<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="User Feedback Collection Platform">
    <title>Community Feedback</title>
        
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/feedback.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@400;500&display=swap" rel="stylesheet">

    <!-- Favicon (recommended to add) -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
</head>
<body class="dark">
    <!-- Navigation Bar -->
    <nav>
        <h3 class="logo">Begi.dev</h3>
        <div class="profile-container">
            <img id="profile-pic" class="profile-pic" src="" alt="Profile" style="display: none;">
        </div>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/past-works.html">Portfolio</a></li>
            <li><a href="/feedback.html" class="active">Feedback</a></li>
            <li><a href="/#store" class="store-link"><span class="store-text">Store</span><span class="coming-soon-text">Coming Soon</span></a></li>
            <li><a href="/tos.html">ToS</a></li>
            <li>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mobile-menu">
                    <path d="M4 6l16 0"></path>
                    <path d="M4 12l16 0"></path>
                    <path d="M4 18l16 0"></path>
                </svg>
            </li>
            <li>    
                <div class="switch">
                    <input type="checkbox" class="switch__input" id="themeSwitch">
                    <label class="switch__label" for="themeSwitch">
                        <span class="switch__indicator"></span>
                        <span class="switch__decoration"></span>
                    </label>
                </div>
            </li>
        </ul>
    </nav>

    <!-- Mobile Navigation -->
    <div id="mobileNav" class="mobile-nav closed-menu">
        <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tabler-icon tabler-icon-x">
                <path d="M18 6l-12 12"></path>
                <path d="M6 6l12 12"></path>
            </svg>
        </span>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/past-works.html">Portfolio</a></li>
            <li><a href="/feedback.html">Feedback</a></li>
            <li><a href="/#store">Store</a></li>
            <li><a href="/tos.html">ToS</a></li>
        </ul>
    </div>

    <div class="container">
        <header>
        <h3 style="font-size: 15px;">Community Feedback</h1>
            <div class="header-controls">
                <div class="auth-section">
                    <button id="discord-login" class="btn btn-primary" style="width: 100%;">
                        <i class="fab fa-discord"></i> Login with Discord
                    </button>
                    <div id="user-info" style="display: none;">
                        <img id="profile-pic" class="avatar" src="/placeholder.svg" alt="Profile Picture">
                        <span style="display: none;" id="user-name"></span>
                        <button id="logout" class="btn btn-secondary" style="width: 100%;">Logout</button>
                    </div>
                </div>
            </div>
        </header>

        <div class="reviews-section">
            <div class="reviews-header">
                <button id="add-review-btn" class="btn btn-primary">Add Review</button>
            </div>
            <div id="reviews-container" class="reviews-container grid">
                <!-- Reviews will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Review Restriction Modal -->
<div style="display: none;" id="review-restriction-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>You Can Only Submit One Review</h2>
        <p>You have already submitted a review. Thank you!</p>
    </div>
</div>


    <!-- Review Modal -->
    <div id="review-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Write a Review</h2>
            <form id="review-form">
                <div class="star-rating">
                    <input type="radio" id="star5" name="rating" value="5">
                    <label for="star5" title="5 stars"><i class="fas fa-star"></i></label>
                    <input type="radio" id="star4" name="rating" value="4">
                    <label for="star4" title="4 stars"><i class="fas fa-star"></i></label>
                    <input type="radio" id="star3" name="rating" value="3">
                    <label for="star3" title="3 stars"><i class="fas fa-star"></i></label>
                    <input type="radio" id="star2" name="rating" value="2">
                    <label for="star2" title="2 stars"><i class="fas fa-star"></i></label>
                    <input type="radio" id="star1" name="rating" value="1">
                    <label for="star1" title="1 star"><i class="fas fa-star"></i></label>
                </div>
                <div class="form-group">
                    <label for="review-text">Review (Optional)</label>
                    <textarea id="review-text" rows="4" placeholder="Share your thoughts about the product..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Submit Review</button>
            </form>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Authentication Required</h2>
            <p>You need to be logged in to submit a review.</p>
            <button id="auth-discord-login" class="btn btn-primary">
                <i class="fab fa-discord"></i> Login with Discord
            </button>
        </div>
    </div>

    <!-- External Scripts -->
    <script 
        src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" 
        integrity="sha384-..." 
        crossorigin="anonymous"
    ></script>
    
    <!-- Local Module Script -->
    <script 
        type="module" 
        src="/feedback.js" 
        defer
    ></script>
</body>
</html>